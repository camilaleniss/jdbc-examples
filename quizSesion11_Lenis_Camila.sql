DROP TABLE MATRICULA;
DROP TABLE CURSO;
DROP TABLE PROFESOR;
DROP TABLE ESTUDIANTE;

prompt ******** INICIO CREACIÓN DE TABLAS **********

CREATE TABLE ESTUDIANTE(
    COD_EST varchar(12) NOT NULL,
    NOMBRE varchar(50) NOT NULL,
    NOMBRE_PROGRAMA varchar(50) NOT NULL, 
    PROMEDIO_ACUMULADO number(2,1),
    FECHA_NACIMIENTO DATE,
    PRIMARY KEY (COD_EST)
);

CREATE TABLE PROFESOR(
    COD_PROF number(12) NOT NULL,
    NOMBRE varchar(50) NOT NULL,
    DEPARTAMENTO number(3) NOT NULL,
    PRIMARY KEY (COD_PROF)
);

CREATE TABLE CURSO(
    COD_CURSO number(12) NOT NULL,
    NOMBRE varchar(50) NOT NULL,
    HORARIO varchar(50) NOT NULL,
    SALON varchar(20) NOT NULL,
    PROFESOR number(12) NOT NULL,
    PRIMARY KEY (COD_CURSO),
    FOREIGN KEY (PROFESOR) REFERENCES PROFESOR(COD_PROF)
);

CREATE TABLE MATRICULA(
    ESTUDIANTE varchar(12) NOT NULL,
    CURSO number(12) NOT NULL,
    FOREIGN KEY (ESTUDIANTE) REFERENCES ESTUDIANTE(COD_EST),
    FOREIGN KEY (CURSO) REFERENCES CURSO(COD_CURSO)
);

prompt ******** FIN CREACIÓN DE TABLAS **********

prompt ******** INICIO REGISTRO DE DATOS **********

DELETE FROM ESTUDIANTE;

INSERT INTO ESTUDIANTE VALUES('051135593', 'Sofia Loren', 'Ciencia Politica', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('060839453', 'Julio Iglesias', 'Diseno Industrial', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('099354543', 'Andres Cepeda', 'Derecho', 3.7, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('112348546', 'Julio Sabala ', 'Ingenieria de sistemas', 4.0, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('115987938', 'Fernando Alonso', 'Ingenieria de sistemas', 3.7, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('132977562', 'Celia Cruz', 'Antropologia', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('269734834', 'Placido Domingo', 'Psicologia', 4.0, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('280158572', 'Angela Carrasco', 'Medicina', 3.5, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('125465152', 'Richard Marx', 'Psicologia', 3.7, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('879654165', 'Luis Angel', 'Economia', 3.5, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('894165418', 'David Copperfield', 'Ingenieria telematica', 3.5, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('845544524', 'Camilo Torres ', 'Ingenieria de sistemas', 4.0, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('225485661', 'Arcipreste de Hita', 'Ingenieria de sistemas', 3.7, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('236978745', 'William Wallace', 'Contaduria y finanzas', 3.7, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('158965874', 'Jaime Lannister', 'Economia', 3.5, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('174875888', 'Juan Sin Tierra', 'Ingenieria telematica', 3.5, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('744548788', 'Alejandro Magno', 'Ingenieria industrial', 4.0, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('799895959', 'Charles Darwin', 'Administracion', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('848984115', 'Fabiana Cantilo', 'Ingenieria de sistemas', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('998745556', 'Andres Calamaro', 'Ingenieria industrial', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('887554633', 'Steven Tyler', 'Ingenieria de sistemas', 3.5, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('326659989', 'Cristiano Ronaldo', 'Medicina', 4.0, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('357485638', 'Juan Pablo Montoya', 'Economia', 3.7, TO_DATE('08/09/00', 'DD/MM/YY'));
INSERT INTO ESTUDIANTE VALUES('321456322', 'Antonio Ricaurte', 'Medicina', 4.2, TO_DATE('08/09/00', 'DD/MM/YY'));

COMMIT;

DELETE FROM PROFESOR;

INSERT INTO PROFESOR VALUES('142519864', 'Andres Aristizabal', 20);
INSERT INTO PROFESOR VALUES('228494949', 'Luis Felipe Cardona', 68);
INSERT INTO PROFESOR VALUES('142577888', 'Hugo Arboleda', 20);
INSERT INTO PROFESOR VALUES('987588857', 'Gonzalo Llano', 68);
INSERT INTO PROFESOR VALUES('214587588', 'Angela Villota', 68);
INSERT INTO PROFESOR VALUES('159848999', 'Gabriel Tamura', 12);
INSERT INTO PROFESOR VALUES('852698458', 'Sandra Cespedes', 20);
INSERT INTO PROFESOR VALUES('875151155', 'Norha Villegas', 12);
INSERT INTO PROFESOR VALUES('898465166', 'Alvaro Pachon', 12);
INSERT INTO PROFESOR VALUES('898456515', 'Luis Eduardo Munera', 33);
INSERT INTO PROFESOR VALUES('251651512', 'Carlos Arce', 11);
INSERT INTO PROFESOR VALUES('454515612', 'Juan Carlos Muñoz', 20);
INSERT INTO PROFESOR VALUES('125465151', 'Andrés Navarro', 11);
INSERT INTO PROFESOR VALUES('151616152', 'Alfonso Bustamante', 33);
INSERT INTO PROFESOR VALUES('784156145', 'Gonzalo Ulloa', 20);

COMMIT;

DELETE FROM CURSO;

INSERT INTO CURSO VALUES(1, 'Algoritmos y estructuras de datos', 'LUN-MIE-VIE 11-13', '208C', 142519864);
INSERT INTO CURSO VALUES(2, 'Algebra y funciones', 'LUN-MIE-VIE 11-13', '208C', 142577888);
INSERT INTO CURSO VALUES(3, 'Principios de economia', 'LUN-MIE-VIE 11-13', '208C', 214587588);
INSERT INTO CURSO VALUES(4, 'Fundamentos de derecho', 'LUN-MIE-VIE 11-13', '208C', 251651512);
INSERT INTO CURSO VALUES(5, 'Arquitectura de software', 'LUN-MIE-VIE 11-13', '208C', 159848999);
INSERT INTO CURSO VALUES(6, 'Ingeniería de software', 'LUN-MIE-VIE 11-13', '208C', 875151155);
INSERT INTO CURSO VALUES(7, 'COE I', 'LUN-MIE-VIE 11-13', '208C', 125465151);
INSERT INTO CURSO VALUES(8, 'COE II', 'LUN-MIE-VIE 11-13', '208C', 151616152);
INSERT INTO CURSO VALUES(9, 'Bases de datos', 'LUN-MIE-VIE 11-13', '208C', 142519864);

COMMIT;

DELETE FROM MATRICULA;

INSERT INTO MATRICULA VALUES('051135593', 1);
INSERT INTO MATRICULA VALUES('060839453', 2);
INSERT INTO MATRICULA VALUES('099354543', 3);
INSERT INTO MATRICULA VALUES('112348546', 4);
INSERT INTO MATRICULA VALUES('115987938', 5 );
INSERT INTO MATRICULA VALUES('132977562', 6);
INSERT INTO MATRICULA VALUES('269734834', 7);
INSERT INTO MATRICULA VALUES('280158572', 8);
INSERT INTO MATRICULA VALUES('125465152', 9);
INSERT INTO MATRICULA VALUES('879654165', 1);
INSERT INTO MATRICULA VALUES('894165418', 2);
INSERT INTO MATRICULA VALUES('845544524', 3 );
INSERT INTO MATRICULA VALUES('225485661', 4);
INSERT INTO MATRICULA VALUES('236978745', 5);
INSERT INTO MATRICULA VALUES('158965874', 6);
INSERT INTO MATRICULA VALUES('174875888', 7);
INSERT INTO MATRICULA VALUES('744548788', 8);
INSERT INTO MATRICULA VALUES('799895959', 9);
INSERT INTO MATRICULA VALUES('848984115', 1);
INSERT INTO MATRICULA VALUES('998745556', 2);
INSERT INTO MATRICULA VALUES('887554633', 3 );
INSERT INTO MATRICULA VALUES('326659989', 4);
INSERT INTO MATRICULA VALUES('357485638', 5);
INSERT INTO MATRICULA VALUES('321456322', 6);

COMMIT;

prompt ******** FIN REGISTRO DE DATOS **********

prompt ******** INICIO REPORTE CURSOS POR ESTUDIANTE **********

SELECT EST.COD_EST  AS "COD_EST", EST.NOMBRE AS "NOMBRE_EST", CUR.NOMBRE AS "NOMBRE_CURSO", CUR.HORARIO, CUR.SALON, PROF.NOMBRE AS "NOMBRE_PROF"
FROM ESTUDIANTE EST, PROFESOR PROF, MATRICULA MAT, CURSO CUR
WHERE MAT.ESTUDIANTE = EST.COD_EST 
    AND MAT.CURSO = CUR.COD_CURSO
    AND CUR.PROFESOR = PROF.COD_PROF
ORDER BY EST.NOMBRE;

prompt ******** FIN REPORTE **********

prompt ********INICIO BONUS *************

SELECT COD_EST, NOMBRE, NOMBRE_PROGRAMA, PROMEDIO_ACUMULADO, FECHA_NACIMIENTO
FROM ESTUDIANTE;

prompt ********FIN BONUS *************
